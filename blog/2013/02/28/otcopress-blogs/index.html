<!-- more -->


<hr />

<p>layout: post
title: &#8220;otcopress-blogs&#8221;
date: 2013-02-28 01:43
comments: true</p>

<h2>categories: </h2>

<p>tips:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="nl">os:</span><span class="n">ubuntu10</span><span class="mf">.04</span>
</span><span class='line'><span class="nl">Terminal:</span><span class="n">zsh</span>
</span></code></pre></td></tr></table></div></figure>


<p>1、安装curl:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">curl</span>
</span></code></pre></td></tr></table></div></figure>


<p>before install ruby you should install libyaml-dev，openssl:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">libyaml</span><span class="o">-</span><span class="n">dev</span>
</span><span class='line'><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">openssls</span>
</span></code></pre></td></tr></table></div></figure>


<p>安装RVM:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">curl</span> <span class="o">-</span><span class="n">L</span> <span class="nl">https:</span><span class="c1">//get.rvm.io | zsh -s stable --ruby</span>
</span></code></pre></td></tr></table></div></figure>


<p>start RVM :</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">source</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">zlove</span><span class="o">/</span><span class="p">.</span><span class="n">rvm</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">rvm</span>
</span></code></pre></td></tr></table></div></figure>


<p>安装ruby:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">install</span> <span class="n">ruby</span> <span class="mf">1.9.3</span><span class="o">:</span>
</span><span class='line'><span class="n">rvm</span> <span class="n">install</span> <span class="mf">1.9.3</span>
</span><span class='line'><span class="n">rvm</span> <span class="n">use</span> <span class="mf">1.9.3</span>
</span><span class='line'><span class="n">rvm</span> <span class="n">rubygems</span> <span class="n">latest</span>
</span></code></pre></td></tr></table></div></figure>


<p>2、install octopress:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">git</span> <span class="n">clone</span> <span class="nl">git:</span><span class="c1">//github.com/imathis/octopress.git octopress</span>
</span><span class='line'><span class="n">cd</span> <span class="n">octopress</span>    <span class="err">#</span> <span class="n">If</span> <span class="n">you</span> <span class="n">use</span> <span class="n">RVM</span><span class="p">,</span> <span class="n">You</span><span class="err">&#39;</span><span class="n">ll</span> <span class="n">be</span> <span class="n">asked</span> <span class="k">if</span> <span class="n">you</span> <span class="n">trust</span> <span class="n">the</span> <span class="p">.</span><span class="n">rvmrc</span> <span class="n">file</span> <span class="p">(</span><span class="n">say</span> <span class="n">yes</span><span class="p">).</span>
</span><span class='line'><span class="n">ruby</span> <span class="o">--</span><span class="n">version</span>  <span class="err">#</span> <span class="n">Should</span> <span class="n">report</span> <span class="n">Ruby</span> <span class="mf">1.9.3</span>
</span></code></pre></td></tr></table></div></figure>


<p>install dependencies:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">gem</span> <span class="n">install</span> <span class="n">bundler</span>
</span><span class='line'><span class="n">bundle</span> <span class="n">install</span>
</span></code></pre></td></tr></table></div></figure>


<p>install the default octopress theme:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">rake</span> <span class="n">install</span>
</span></code></pre></td></tr></table></div></figure>


<p>create a github repository:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="nl">https:</span><span class="c1">//github.com/repositories/new</span>
</span></code></pre></td></tr></table></div></figure>


<p>4、设定Github pages:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">rake</span> <span class="n">setup_github_pages</span>
</span></code></pre></td></tr></table></div></figure>


<p>tips:if this steps have errors:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="n">global</span> <span class="n">user</span><span class="p">.</span><span class="n">email</span> <span class="s">&quot;249056903@qq.com&quot;</span>
</span><span class='line'><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="n">global</span> <span class="n">user</span><span class="p">.</span><span class="n">name</span> <span class="s">&quot;ZuLove&quot;</span><span class="c1">//github用户名</span>
</span></code></pre></td></tr></table></div></figure>


<p>5、发布
预览</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">rake</span> <span class="n">preview</span>
</span><span class='line'><span class="nl">http:</span><span class="c1">//localhost:4000/</span>
</span></code></pre></td></tr></table></div></figure>


<p>发布</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">rake</span> <span class="n">generate</span>
</span><span class='line'><span class="n">rake</span> <span class="n">deploy</span>
</span></code></pre></td></tr></table></div></figure>


<p>6、将source 加入git:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">git</span> <span class="n">add</span> <span class="p">.</span>
</span><span class='line'><span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="err">&#39;</span><span class="n">initial</span> <span class="n">source</span> <span class="n">commit</span><span class="err">&#39;</span>
</span><span class='line'><span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="n">source</span>
</span></code></pre></td></tr></table></div></figure>


<p>7、更新 Octopress
日后有 Octopress 新版本发布，使用以下指令升级。</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">git</span> <span class="n">pull</span> <span class="n">octopress</span> <span class="n">master</span>     <span class="err">#</span> <span class="n">Get</span> <span class="n">the</span> <span class="n">latest</span> <span class="n">Octopress</span>
</span><span class='line'><span class="n">bundle</span> <span class="n">install</span>                      <span class="err">#</span> <span class="n">Keep</span> <span class="n">gems</span> <span class="n">updated</span>
</span><span class='line'><span class="n">rake</span> <span class="n">update_source</span>            <span class="err">#</span> <span class="n">update</span> <span class="n">the</span> <span class="n">template</span><span class="err">&#39;</span><span class="n">s</span> <span class="n">source</span>
</span><span class='line'><span class="n">rake</span> <span class="n">update_style</span>               <span class="err">#</span> <span class="n">update</span> <span class="n">the</span> <span class="n">template</span><span class="err">&#39;</span><span class="n">s</span> <span class="n">style</span>
</span></code></pre></td></tr></table></div></figure>


<p>8.发表新文章</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">rake</span> <span class="n">new_post</span><span class="err">\</span><span class="p">[</span><span class="s">&quot;Octopress blogs&quot;</span><span class="err">\</span><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>会在“source/_posts”目录下自动生成“2012-11-14-otcopress-blogs.markdown”，编辑后即可发布：</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">rake</span> <span class="n">preview</span>
</span><span class='line'><span class="n">rake</span> <span class="n">gen_deploy</span>
</span></code></pre></td></tr></table></div></figure>



